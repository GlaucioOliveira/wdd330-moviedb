import{c as o,b as r}from"./auth-40e76612.js";import"./main-c8894a1a.js";document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector("form");t.addEventListener("submit",n=>{t.checkValidity()&&(n.preventDefault(),d(t))}),document.getElementById("title").addEventListener("blur",()=>{l()})});async function d(t){const e=new FormData(t),n={title:e.get("title"),poster:e.get("poster"),year:e.get("year"),genre:e.get("genre"),mediatype:e.get("mediatype"),location:e.get("location"),wishlist:e.get("wishlist")==="on"};await o(n),window.location="/wdd330-moviedb/movies/"}async function l(){const t=document.getElementById("title").value;if(document.getElementById("year").value,!t)return;const e=await r(t);e!=null&&e.Poster?(document.getElementById("posterImg").src=e==null?void 0:e.Poster,document.getElementById("posterImg").style.display="block",document.getElementById("poster").value=e==null?void 0:e.Poster):document.getElementById("posterImg").style.display="none",document.getElementById("title").value=e==null?void 0:e.Title,document.getElementById("year").value=e==null?void 0:e.Year,document.getElementById("genre").value=e==null?void 0:e.Genre}
